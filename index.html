<!doctype html>
<html lang="th" class="h-full">
<head>
  <link rel="icon" href="data:,">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≠‡∏ö Shipping Business ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-auth-compat.js"></script>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { box-sizing: border-box; }
    * { font-family: 'Sarabun', sans-serif; }

    .card-hover { transition: all 0.3s ease; }
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.15);
    }

    .fade-in { animation: fadeIn 0.4s ease-in; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>

  <style>@view-transition { navigation: auto; }</style>
</head>

<body class="h-full bg-gradient-to-br from-blue-50 to-blue-100">
  <div id="app" class="w-full h-full overflow-auto"></div>

  <script>
    // ===============================
    // CONFIG / DATA
    // ===============================
    const defaultConfig = {
      site_title: "SHIPPING BUSINESS",
      site_description: "‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
      chapters_title: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Shipping Business"
    };

    const CHAPTERS = [
      {
        id: "chapter1",
        number: "1",
        name: "‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        subtopics: [
          { id: "c1_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c1_s2", name: "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏∑‡πà‡∏ô" },
          { id: "c1_s3", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
          { id: "c1_s4", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÉ‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÇ‡∏•‡∏Å" },
          { id: "c1_s5", name: "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c1_s6", name: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÇ‡∏•‡∏Å" },
          { id: "c1_s7", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c1_s8", name: "‡∏ß‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• ‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πâ‡∏™‡∏π‡πà‡πÄ‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå" },
          { id: "c1_s9", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏ï‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å (Eastern Economic Corridor: EEC) ‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c1_s10", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ö‡∏Å (Dry Port) ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≥‡∏•‡∏∂‡∏Å" },
          { id: "c1_s11", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ Land Bridge ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
          { id: "c1_s12", name: "‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ï‡∏π‡πâ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå" }
        ]
      },
      {
        id: "chapter2",
        number: "2",
        name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô",
        description: "Logistics and Infrastructure Management",
        subtopics: [
          { id: "c2_s1", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå" },
          { id: "c2_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô" },
          { id: "c2_s3", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
          { id: "c2_s4", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
          { id: "c2_s5", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô" },
          { id: "c2_s6", name: "‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô" },
          { id: "c2_s7", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c2_s8", name: "‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å" },
          { id: "c2_s9", name: "‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á" },
          { id: "c2_s10", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c2_s11", name: "‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î Supply Chain Management (SCM)" },
          { id: "c2_s12", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" }
        ]
      },
      {
        id: "chapter3",
        number: "3",
        name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠",
        description: "Shipping Operations and Route Management",
        subtopics: [
          { id: "c3_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c3_s2", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Cargo Operations)" },
          { id: "c3_s3", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" },
          { id: "c3_s4", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠ (Route Planning)" },
          { id: "c3_s5", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" }
        ]
      },
      {
        id: "chapter4",
        number: "4",
        name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Maritime Law and Shipping Policies",
        subtopics: [
          { id: "c4_s1", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
          { id: "c4_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢" },
          { id: "c4_s3", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s4", name: "‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® The International Maritime Organization (IMO)" },
          { id: "c4_s5", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s6", name: "‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏î‡∏π‡πÅ‡∏•‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s7", name: "‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s8", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s9", name: "‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏£‡∏µ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏Å‡πä‡∏≤‡∏ã‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c4_s10", name: "‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏ï‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à (EEZ)" }
        ]
      },
      {
        id: "chapter5",
        number: "5",
        name: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Maritime Economics",
        subtopics: [
          { id: "c5_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c5_s2", name: "‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Foundations of Maritime Economics)" },
          { id: "c5_s3", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•, ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£" },
          { id: "c5_s4", name: "‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Pricing in Freight Transportation)" },
          { id: "c5_s5", name: "‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ß‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡∏≠ (Freight Rates)" },
          { id: "c5_s6", name: "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c5_s7", name: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Economic Impacts of the Transportation Industry)" },
          { id: "c5_s8", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÉ‡∏ô‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô (Supply Chain)" },
          { id: "c5_s9", name: "‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÇ‡∏•‡∏Å" },
          { id: "c5_s10", name: "‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" }
        ]
      },
      {
        id: "chapter6",
        number: "6",
        name: "‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠",
        description: "Ship Chartering",
        subtopics: [
          { id: "c6_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c6_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s3", name: "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠ (Ship Chartering Types)" },
          { id: "c6_s4", name: "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠ (Charter Party)" },
          { id: "c6_s5", name: "‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s6", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠ (Legal Aspects of Ship Chartering)" },
          { id: "c6_s7", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s8", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏®‡∏∏‡∏•‡∏Å‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s9", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s10", name: "‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c6_s11", name: "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å" },
          { id: "c6_s12", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠ ‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô" }
        ]
      },
      {
        id: "chapter7",
        number: "7",
        name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Marine Insurance",
        subtopics: [
          { id: "c7_s1", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s3", name: "‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s4", name: "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s5", name: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏Ç‡∏≠‡∏á P&I Insurance (Protection & Indemnity Insurance)" },
          { id: "c7_s6", name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡∏≠ (Protection & Indemnity ‚Äì P&I Insurance)" },
          { id: "c7_s7", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 3/4 RDC (Three-Fourths Collision Liability Clause) ‡πÅ‡∏•‡∏∞ P&I Insurance" },
          { id: "c7_s8", name: "‡∏Å‡∏£‡∏ì‡∏µ Both to Blame Collision Clause ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÅ‡∏•‡∏∞ P&I Insurance" },
          { id: "c7_s9", name: "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s10", name: "Clause ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s11", name: "‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏†‡∏±‡∏¢ (General Average - GA) ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢" },
          { id: "c7_s12", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s13", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á Classification Society ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c7_s14", name: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á Class Certificate ‡πÅ‡∏•‡∏∞ Statutory Certificate ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c7_s15", name: "Underwriter ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• ‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Underwriter" },
          { id: "c7_s16", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• ‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏ã‡πâ‡∏≥" }
        ]
      },
      {
        id: "chapter8",
        number: "8",
        name: "‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Bill of Lading - B/L",
        subtopics: [
          { id: "c8_s1", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Bill of Lading - B/L)" },
          { id: "c8_s2", name: "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c8_s3", name: "‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÉ‡∏ö‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Bill of Lading - B/L)" },
          { id: "c8_s4", name: "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Bill of Lading (B/L)" },
          { id: "c8_s5", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á BIMCO ‡∏Å‡∏±‡∏ö Bill of Lading (B/L)" },
          { id: "c8_s6", name: "Clause ‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô Bill of Lading (B/L)" },
          { id: "c8_s7", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á B/L" },
          { id: "c8_s8", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á General Average" },
          { id: "c8_s9", name: "‡∏Ç‡πâ‡∏≠‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Ç‡∏ô‡∏™‡πà‡∏á (Carrier's Liability Exceptions) ‡πÉ‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡∏∞‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏ó‡∏¢" },
          { id: "c8_s10", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á Carrier" }
        ]
      },
      {
        id: "chapter9",
        number: "9",
        name: "‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Risk and Safety Management in Shipping Business",
        subtopics: [
          { id: "c9_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c9_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c9_s3", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô" },
          { id: "c9_s4", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö" },
          { id: "c9_s5", name: "‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c9_s6", name: "‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠ (ISM Code - International Safety Management)" },
          { id: "c9_s7", name: "‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏" },
          { id: "c9_s8", name: "‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Risk Management Planning in Shipping Business)" },
          { id: "c9_s9", name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á" },
          { id: "c9_s10", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö" }
        ]
      },
      {
        id: "chapter10",
        number: "10",
        name: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Technology in Maritime Business",
        subtopics: [
          { id: "c10_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c10_s2", name: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Key Technologies in Maritime Business)" },
          { id: "c10_s3", name: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢ GPS ‡πÅ‡∏•‡∏∞ AIS (Automatic Identification System)" },
          { id: "c10_s4", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Internet of Things (IoT) ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c10_s5", name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ AI ‡πÅ‡∏•‡∏∞ Big Data" },
          { id: "c10_s6", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û" },
          { id: "c10_s7", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ AI ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á" },
          { id: "c10_s8", name: "‡πÄ‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Autonomous Surface Ship)" },
          { id: "c10_s9", name: "Blockchain ‡πÉ‡∏ô‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c10_s10", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™" },
          { id: "c10_s11", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Blockchain ‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• ‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ Maersk ‡πÅ‡∏•‡∏∞ IBM TradeLens" }
        ]
      },
      {
        id: "chapter11",
        number: "11",
        name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Sustainability and Environmental Impact in Shipping",
        subtopics: [
          { id: "c11_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c11_s2", name: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• (Environmental Impacts of Shipping Business)" },
          { id: "c11_s3", name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏Å‡πä‡∏≤‡∏ã‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å (Greenhouse Gas Emissions)" },
          { id: "c11_s4", name: "‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏• ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏• ‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡∏≠" },
          { id: "c11_s5", name: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c11_s6", name: "‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c11_s7", name: "‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° MARPOL ‡πÅ‡∏•‡∏∞ IMO 2023 Regulations" },
          { id: "c11_s8", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î" },
          { id: "c11_s9", name: "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö" },
          { id: "c11_s10", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏•‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
          { id: "c11_s11", name: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏≥‡∏ö‡∏±‡∏î‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏ô‡πÄ‡∏£‡∏∑‡∏≠" }
        ]
      },
      {
        id: "chapter12",
        number: "12",
        name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Impact Analysis and Crisis Management in Shipping Business",
        subtopics: [
          { id: "c12_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c12_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c12_s3", name: "‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏≤‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥" },
          { id: "c12_s4", name: "‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡∏≠ ‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ó‡∏≤‡∏á‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå" },
          { id: "c12_s5", name: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°" },
          { id: "c12_s6", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏£‡∏∑‡∏≠ Ever Given ‡∏ï‡∏¥‡∏î‡∏Ñ‡∏•‡∏≠‡∏á‡∏™‡∏∏‡πÄ‡∏≠‡∏ã (2021)" },
          { id: "c12_s7", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡∏≠ Exxon Valdez (1989)" },
          { id: "c12_s8", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÅ‡∏•‡∏∞‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π" },
          { id: "c12_s9", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÅ‡∏ú‡∏ô‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c12_s10", name: "‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c12_s11", name: "‡∏Å‡∏≤‡∏£‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" }
        ]
      },
      {
        id: "chapter13",
        number: "13",
        name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Cost and Profit Management in Shipping Business",
        subtopics: [
          { id: "c13_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c13_s2", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c13_s3", name: "‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (Fixed Costs)" },
          { id: "c13_s4", name: "‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£ (Variable Costs)" },
          { id: "c13_s5", name: "‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡πà‡∏≤‡∏á ‡πÜ (Dry Bulk, Tanker, Container Ship)" },
          { id: "c13_s6", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c13_s7", name: "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ß‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡∏≠ (Freight Rates)" },
          { id: "c13_s8", name: "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô" }
        ]
      },
      {
        id: "chapter14",
        number: "14",
        name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Customer Relationship Management and Business Development in Shipping",
        subtopics: [
          { id: "c14_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c14_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Customer Relationship Management - CRM)" },
          { id: "c14_s3", name: "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à (Business Development)" },
          { id: "c14_s4", name: "‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á" }
        ]
      },
      {
        id: "chapter15",
        number: "15",
        name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Strategic Planning in Shipping Business",
        subtopics: [
          { id: "c15_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c15_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c15_s3", name: "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå" },
          { id: "c15_s4", name: "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" }
        ]
      },
      {
        id: "chapter16",
        number: "16",
        name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Supply Chain Management in Shipping",
        subtopics: [
          { id: "c16_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c16_s2", name: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c16_s3", name: "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô" },
          { id: "c16_s4", name: "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏ô‡∏´‡πà‡∏ß‡∏á‡πÇ‡∏ã‡πà‡∏≠‡∏∏‡∏õ‡∏ó‡∏≤‡∏ô" }
        ]
      },
      {
        id: "chapter17",
        number: "17",
        name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Case Studies in International Shipping Business",
        subtopics: [
          { id: "c17_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c17_s2", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡πÉ‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÇ‡∏•‡∏Å" },
          { id: "c17_s3", name: "‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å" },
          { id: "c17_s4", name: "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Ç‡∏ô‡∏™‡πà‡∏á" },
          { id: "c17_s5", name: "‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c17_s6", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤" }
        ]
      },
      {
        id: "chapter18",
        number: "18",
        name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•",
        description: "Business Planning in Shipping Industry",
        subtopics: [
          { id: "c18_s1", name: "‡∏ö‡∏ó‡∏ô‡∏≥" },
          { id: "c18_s2", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c18_s3", name: "‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£" },
          { id: "c18_s4", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°" },
          { id: "c18_s5", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û" },
          { id: "c18_s6", name: "‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ" },
          { id: "c18_s7", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á" },
          { id: "c18_s8", name: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à" },
          { id: "c18_s9", name: "‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c18_s10", name: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏•‡∏≤‡∏î (Market Analysis)" },
          { id: "c18_s11", name: "‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c18_s12", name: "‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢" },
          { id: "c18_s13", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c18_s14", name: "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" },
          { id: "c18_s15", name: "‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•" },
          { id: "c18_s16", name: "‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏∞‡πÄ‡∏•" }
        ]
      }
    ];

    // ===============================
    // STATE
    // ===============================
    let currentView = 'landing';
    let currentUser = null;
    let selectedChapter = null;
    let selectedSubtopic = null;
    let bookingData = null;
    let allRecords = [];
    let isAdminMode = false;

    // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡∏ï‡πà‡∏≠ 1 booking)
    let scoreUnlockForBookingId = null;

    // ‚úÖ NEW: Self-Assessment state (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô)
    let selectedAssessmentChapter = null;
    let selectedAssessmentSubtopic = null;

    const ADMIN_CODE = 'ChayanonOrorum!!!';

    // ===============================
    // FIREBASE (Firestore only)
    // ===============================
    const firebaseConfig = {
      apiKey: "AIzaSyBYdF1hUl5m5h2BROtiyWpsKu7Y2ZBAeLQ",
      authDomain: "databaseshippingstudent.firebaseapp.com",
      projectId: "databaseshippingstudent",
      storageBucket: "databaseshippingstudent.firebasestorage.app",
      messagingSenderId: "935239585493",
      appId: "1:935239585493:web:abb05bb3814be08bb05c5c",
      measurementId: "G-Z0BDLXNR0R"
    };

    const RECORDS_COLLECTION = "records_v2";

    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
    const db = firebase.firestore();

    // ===== Firestore Data SDK (‡∏Ñ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏û‡∏±‡∏á) =====
    async function initDataSDK() {
      const col = db.collection(RECORDS_COLLECTION);

      function mapDocs(snapshot) {
        return snapshot.docs.map(d => ({
          __backendId: d.id,
          ...d.data()
        }));
      }

      window.dataSdk = {
        _unsub: null,
        _ready: false,

        async init(handler) {
          try {
            const firstLoad = new Promise((resolve) => {
              let done = false;

              this._unsub?.();
              this._unsub = col.onSnapshot(
                (qSnap) => {
                  allRecords = mapDocs(qSnap);
                  handler?.onDataChanged?.(allRecords);

                  if (!done) {
                    done = true;
                    resolve({ isOk: true });
                  }
                },
                (err) => {
                  console.error("Firestore onSnapshot error:", err);
                  if (!done) {
                    done = true;
                    resolve({ isOk: false });
                  }
                }
              );
            });

            return await firstLoad;
          } catch (err) {
            console.error("Firestore init error:", err);
            return { isOk: false };
          }
        },

        async create(record) {
          try {
            const data = { ...record };
            delete data.__backendId;
            await col.add(data);
            return { isOk: true };
          } catch (err) {
            console.error("Firestore create error:", err);
            return { isOk: false };
          }
        },

        async update(record) {
          try {
            if (!record.__backendId) return { isOk: false };

            const id = record.__backendId;
            const data = { ...record };
            delete data.__backendId;

            await col.doc(id).set(data, { merge: true });
            return { isOk: true };
          } catch (err) {
            console.error("Firestore update error:", err);
            return { isOk: false };
          }
        },

        async delete(id) {
          try {
            if (!id) return { isOk: false };
            await col.doc(id).delete();
            return { isOk: true };
          } catch (err) {
            console.error("Firestore delete error:", err);
            return { isOk: false };
          }
        }
      };

      const dataHandler = { onDataChanged(data) { allRecords = data; } };
      const result = await window.dataSdk.init(dataHandler);
      if (!result.isOk) console.error("Failed to initialize Firestore data SDK");
      return result.isOk;
    }

    // ===============================
    // HELPERS
    // ===============================
    function generateId(prefix) {
      return prefix + '_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }

    async function simpleHash(text) {
      const enc = new TextEncoder();
      const buf = await crypto.subtle.digest('SHA-256', enc.encode(String(text)));
      return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');
    }

    function getUserRecords() {
      if (!currentUser) return [];
      return allRecords.filter(r => r.record_type === 'booking' && r.user_id === currentUser.user_id);
    }

    // ‚úÖ NEW: Self-Assessment helpers (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°)
    function getUserAssessments() {
      if (!currentUser) return [];
      return allRecords.filter(r => r.record_type === 'self_assessment' && r.user_id === currentUser.user_id);
    }

    function calculateAssessmentSummary(assessments) {
      if (!assessments || assessments.length === 0) {
        return { count: 0, avgUnderstanding: 0, avgConfidence: 0, avgReadiness: 0, totalMinutes: 0 };
      }

      const sum = assessments.reduce((acc, a) => {
        acc.understanding += Number(a.understanding || 0);
        acc.confidence += Number(a.confidence || 0);
        acc.readiness += Number(a.readiness || 0);
        acc.minutes += Number(a.study_minutes || 0);
        return acc;
      }, { understanding: 0, confidence: 0, readiness: 0, minutes: 0 });

      const n = assessments.length;
      return {
        count: n,
        avgUnderstanding: Math.round((sum.understanding / n) * 10) / 10,
        avgConfidence: Math.round((sum.confidence / n) * 10) / 10,
        avgReadiness: Math.round((sum.readiness / n) * 10) / 10,
        totalMinutes: sum.minutes
      };
    }

    function renderAssessmentSummaryCard(assessments) {
      const s = calculateAssessmentSummary(assessments);

      if (s.count === 0) {
        return `
          <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">üìù ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h2>
            <p class="text-gray-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
          </div>
        `;
      }

      return `
        <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
          <div class="flex items-start justify-between gap-4">
            <div>
              <h2 class="text-2xl font-bold text-gray-800">üìù ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h2>
              <p class="text-gray-600 mt-1">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${s.count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Ä¢ ‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô ${s.totalMinutes} ‡∏ô‡∏≤‡∏ó‡∏µ</p>
            </div>
            <div class="text-right">
              <div class="text-sm text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (‡πÄ‡∏ï‡πá‡∏° 5)</div>
              <div class="text-2xl font-bold text-blue-700">${s.avgReadiness}</div>
              <div class="text-xs text-gray-500">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ö</div>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
            <div class="bg-blue-50 rounded-lg p-5">
              <div class="text-sm text-blue-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à</div>
              <div class="text-3xl font-bold text-blue-900">${s.avgUnderstanding}</div>
              <div class="text-xs text-blue-700">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
            <div class="bg-indigo-50 rounded-lg p-5">
              <div class="text-sm text-indigo-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à</div>
              <div class="text-3xl font-bold text-indigo-900">${s.avgConfidence}</div>
              <div class="text-xs text-indigo-700">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
            <div class="bg-green-50 rounded-lg p-5">
              <div class="text-sm text-green-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ö</div>
              <div class="text-3xl font-bold text-green-900">${s.avgReadiness}</div>
              <div class="text-xs text-green-700">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
          </div>
        </div>
      `;
    }

    function calculateUserProgress(userBookings) {
      const passedExams = userBookings.filter(b => b.oral_result === 'pass').length;
      const failedExams = userBookings.filter(b => b.oral_result === 'fail').length;
      const retestExams = userBookings.filter(b => b.oral_result === 'retest').length;
      const totalExams = userBookings.length;

      const percentage = totalExams > 0 ? Math.round((passedExams / totalExams) * 100) : 0;

      return {
        percentage,
        passedExams,
        failedExams,
        retestExams,
        totalExams,
        userBookings
      };
    }

    function renderProgressBar(percentage, size = 'large') {
      const sizeClasses = { small: 'h-2', medium: 'h-4', large: 'h-6' };
      const textSizeClasses = { small: 'text-xs', medium: 'text-sm', large: 'text-base' };

      return `
        <div class="mb-4">
          <div class="flex justify-between items-center mb-2">
            <span class="${textSizeClasses[size]} font-semibold text-gray-700">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô</span>
            <span class="${textSizeClasses[size]} font-bold text-green-600">${percentage}%</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full ${sizeClasses[size]} overflow-hidden">
            <div class="bg-gradient-to-r from-green-500 to-green-600 ${sizeClasses[size]} rounded-full transition-all duration-500 ease-out" style="width: ${percentage}%"></div>
          </div>
        </div>
      `;
    }

    function renderProgressStats(progressData) {
      if (!progressData.userBookings || progressData.userBookings.length === 0) {
        return `
          <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h3 class="text-xl font-bold text-gray-800 mb-4">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h3>
            <div class="text-center py-8">
              <p class="text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</p>
            </div>
          </div>
        `;
      }

      return `
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
          <h3 class="text-xl font-bold text-gray-800 mb-4">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>

          <div class="grid grid-cols-3 gap-4 mb-6">
            <div class="text-center p-4 bg-green-50 rounded-lg">
              <div class="text-3xl font-bold text-green-600">${progressData.passedExams}</div>
              <div class="text-sm text-green-700 font-semibold mt-1">‚úÖ ‡∏ú‡πà‡∏≤‡∏ô</div>
            </div>
            <div class="text-center p-4 bg-red-50 rounded-lg">
              <div class="text-3xl font-bold text-red-600">${progressData.failedExams}</div>
              <div class="text-sm text-red-700 font-semibold mt-1">‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</div>
            </div>
            <div class="text-center p-4 bg-orange-50 rounded-lg">
              <div class="text-3xl font-bold text-orange-600">${progressData.retestExams}</div>
              <div class="text-sm text-orange-700 font-semibold mt-1">‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°</div>
            </div>
          </div>

          <div class="space-y-2">
            ${progressData.userBookings
              .sort((a, b) => new Date(b.exam_date) - new Date(a.exam_date))
              .map(booking => {
                let statusColor, statusBg, statusIcon, statusText;

                if (booking.oral_result === 'pass') {
                  statusColor = 'text-green-700';
                  statusBg = 'bg-green-50 border-green-300';
                  statusIcon = '‚úÖ';
                  statusText = '‡∏ú‡πà‡∏≤‡∏ô';
                } else if (booking.oral_result === 'fail') {
                  statusColor = 'text-red-700';
                  statusBg = 'bg-red-50 border-red-300';
                  statusIcon = '‚ùå';
                  statusText = '‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô';
                } else if (booking.oral_result === 'retest') {
                  statusColor = 'text-orange-700';
                  statusBg = 'bg-orange-50 border-orange-300';
                  statusIcon = '‚ö†Ô∏è';
                  statusText = '‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°';
                } else {
                  statusColor = 'text-gray-600';
                  statusBg = 'bg-gray-50 border-gray-300';
                  statusIcon = '‚è≥';
                  statusText = '‡∏£‡∏≠‡∏™‡∏≠‡∏ö';
                }

                return `
                  <div class="flex items-center justify-between p-3 rounded-lg border ${statusBg}">
                    <div class="flex-1">
                      <div class="font-semibold ${statusColor} text-sm">${booking.chapter_title}</div>
                      <div class="text-xs text-gray-600">${booking.subtopic_title}</div>
                    </div>
                    <div class="text-right">
                      <div class="font-bold ${statusColor}">${statusIcon} ${statusText}</div>
                      ${booking.score !== null && booking.score !== undefined ? `<div class="text-xs text-gray-600">${booking.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>` : ''}
                    </div>
                  </div>
                `;
              }).join('')}
          </div>
        </div>
      `;
    }

    function showMessage(container, message, type = 'error') {
      const existingMessages = container.querySelectorAll('.message-alert');
      existingMessages.forEach(msg => msg.remove());

      const colors = {
        error: 'bg-red-50 border-red-200 text-red-700',
        success: 'bg-green-50 border-green-200 text-green-700',
        warning: 'bg-yellow-50 border-yellow-200 text-yellow-700'
      };

      const messageDiv = document.createElement('div');
      messageDiv.className = `message-alert p-4 rounded-lg border ${colors[type]} mb-4`;
      messageDiv.textContent = message;
      container.insertBefore(messageDiv, container.firstChild);

      setTimeout(() => messageDiv.remove(), 5000);
    }

    // ===============================
    // ‚úÖ ADMIN CODE PROMPT (Reusable)
    // ===============================
    function promptAdminCode({
      title = "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•",
      description = "‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö"
    } = {}) {
      return new Promise((resolve) => {
        const overlay = document.createElement("div");
        overlay.className = "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center";
        overlay.style.zIndex = "9999";

        overlay.innerHTML = `
          <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 fade-in">
            <div class="text-center mb-6">
              <h2 class="text-2xl font-bold text-gray-800">${title}</h2>
              <p class="text-gray-600 mt-2">${description}</p>
            </div>

            <div id="admin-confirm-message"></div>

            <form id="admin-confirm-form" class="space-y-4">
              <div>
                <label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• <span class="text-red-500">*</span></label>
                <input type="password" id="admin-confirm-code" required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>

              <div class="flex space-x-3">
                <button type="button" id="admin-confirm-cancel"
                  class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg">
                  ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
                <button type="submit"
                  class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg">
                  ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                </button>
              </div>
            </form>
          </div>
        `;

        document.body.appendChild(overlay);

        const cleanup = () => { try { overlay.remove(); } catch (_) {} };

        overlay.addEventListener("click", (e) => {
          if (e.target === overlay) {
            cleanup();
            resolve(false);
          }
        });

        overlay.querySelector("#admin-confirm-cancel").addEventListener("click", () => {
          cleanup();
          resolve(false);
        });

        overlay.querySelector("#admin-confirm-form").addEventListener("submit", (e) => {
          e.preventDefault();
          const code = overlay.querySelector("#admin-confirm-code").value;
          const msg = overlay.querySelector("#admin-confirm-message");
          if (code === ADMIN_CODE) {
            cleanup();
            resolve(true);
          } else {
            showMessage(msg, "‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", "error");
          }
        });

        setTimeout(() => overlay.querySelector("#admin-confirm-code")?.focus(), 0);
      });
    }

    // ===============================
    // ADMIN UI
    // ===============================
    function renderAdminButton() {
      if (!currentUser) return '';

      return `
        <button id="admin-settings-btn" class="fixed bottom-3 right-3 w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-md flex items-center justify-center transition-all duration-300 hover:scale-110 z-50 opacity-70 hover:opacity-100" title="‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
        </button>

        <div id="admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 fade-in">
            <div class="text-center mb-6">
              <h2 class="text-2xl font-bold text-gray-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h2>
              <p class="text-gray-600 mt-2">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</p>
            </div>

            <div id="admin-message-container"></div>

            <form id="admin-login-form" class="space-y-4">
              <div>
                <label for="admin-code" class="block text-gray-700 font-semibold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• <span class="text-red-500">*</span></label>
                <input type="password" id="admin-code" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              </div>

              <div class="flex space-x-3">
                <button type="button" id="cancel-admin-btn" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg">
                  ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
                <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg">
                  ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                </button>
              </div>
            </form>
          </div>
        </div>
      `;
    }

    function setupAdminButton() {
      const adminBtn = document.getElementById('admin-settings-btn');
      const adminModal = document.getElementById('admin-modal');
      const cancelBtn = document.getElementById('cancel-admin-btn');
      const adminForm = document.getElementById('admin-login-form');

      if (!adminBtn || !adminModal || !cancelBtn || !adminForm) return;

      adminBtn.addEventListener('click', () => {
        adminModal.classList.remove('hidden');
        const codeEl = document.getElementById('admin-code');
        if (codeEl) codeEl.value = '';
      });

      cancelBtn.addEventListener('click', () => {
        adminModal.classList.add('hidden');
      });

      adminModal.addEventListener('click', (e) => {
        if (e.target === adminModal) {
          adminModal.classList.add('hidden');
        }
      });

      adminForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const code = document.getElementById('admin-code').value;
        const messageContainer = document.getElementById('admin-message-container');

        if (code === ADMIN_CODE) {
          isAdminMode = true;
          adminModal.classList.add('hidden');
          showMessage(messageContainer, '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
          setTimeout(() => renderAdminDashboard(), 500);
        } else {
          showMessage(messageContainer, '‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', 'error');
        }
      });
    }

    function renderAdminDashboard() {
      currentView = 'admin';

      const allBookings = allRecords.filter(r => r.record_type === 'booking');

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-7xl mx-auto">
            <div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-xl p-6 md:p-8 mb-6 text-white">
              <div class="flex justify-between items-center">
                <div>
                  <h1 class="text-3xl font-bold">‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h1>
                  <p class="text-blue-100">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                </div>
                <button id="exit-admin-btn" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-semibold py-3 px-6 rounded-lg">
                  üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
                </button>
              </div>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <h2 class="text-2xl font-bold text-gray-800 mb-6">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${allBookings.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</h2>

              <div id="admin-bookings-list">
                ${allBookings.length === 0 ? `
                  <div class="text-center py-12">
                    <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
                  </div>
                ` : renderAdminBookingsList(allBookings)}
              </div>
            </div>
          </div>
        </div>
      `;

      document.getElementById('exit-admin-btn').addEventListener('click', () => {
        isAdminMode = false;
        renderDashboard();
      });

      setupAdminEditButtons();
    }

    function renderAdminBookingsList(bookings) {
      return `
        <div class="space-y-4">
          ${bookings.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)).map(booking => {
            const user = allRecords.find(r => r.record_type === 'user' && r.user_id === booking.user_id);
            const resultColors = {
              'pass': 'bg-green-100 text-green-800',
              'fail': 'bg-red-100 text-red-800',
              'retest': 'bg-orange-100 text-orange-800',
              '': 'bg-gray-100 text-gray-600'
            };
            const resultText = {
              'pass': '‡∏ú‡πà‡∏≤‡∏ô',
              'fail': '‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô',
              'retest': '‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°',
              '': '‡∏£‡∏≠‡∏™‡∏≠‡∏ö'
            };

            return `
              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex justify-between items-start mb-4">
                  <div class="flex-1">
                    <h3 class="font-bold text-gray-800 mb-2">${user ? user.name : 'N/A'} (${user ? user.email : 'N/A'})</h3>
                    <p class="text-gray-600 mb-1">üìö ${booking.chapter_title}</p>
                    <p class="text-gray-600 mb-1">üìñ ${booking.subtopic_title}</p>
                    <p class="text-gray-600">üìÖ ${new Date(booking.exam_date).toLocaleDateString('th-TH')}</p>
                  </div>
                  <div class="text-right">
                    <span class="px-3 py-1 rounded-full text-xs font-semibold ${resultColors[booking.oral_result || '']}">
                      ${resultText[booking.oral_result || '']}
                    </span>
                    ${booking.score !== null && booking.score !== undefined ? `
                      <p class="text-2xl font-bold text-blue-600 mt-2">${booking.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    ` : ''}
                  </div>
                </div>
                <button class="admin-edit-btn w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg" data-booking-id="${booking.__backendId}">
                  ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏•‡∏™‡∏≠‡∏ö
                </button>
              </div>
            `;
          }).join('')}
        </div>
      `;
    }

    function setupAdminEditButtons() {
      document.querySelectorAll('.admin-edit-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const bookingId = e.target.dataset.bookingId;
          const booking = allRecords.find(r => r.__backendId === bookingId);
          if (booking) {
            renderAdminEditForm(booking);
          }
        });
      });
    }

    function renderAdminEditForm(booking) {
      const user = allRecords.find(r => r.record_type === 'user' && r.user_id === booking.user_id);

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <button id="back-to-admin" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
              </button>

              <h2 class="text-2xl font-bold text-gray-800 mb-6">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h2>

              <div class="bg-blue-50 rounded-lg p-6 mb-6">
                <div class="space-y-2">
                  <p><span class="font-semibold">‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ö:</span> ${user ? user.name : 'N/A'}</p>
                  <p><span class="font-semibold">‡∏ö‡∏ó:</span> ${booking.chapter_title}</p>
                  <p><span class="font-semibold">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠:</span> ${booking.subtopic_title}</p>
                </div>
              </div>

              <div id="admin-edit-message-container"></div>

              <div class="space-y-4">
                <div>
                  <label for="admin-exam-result" class="block text-gray-700 font-semibold mb-2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö <span class="text-red-500">*</span></label>
                  <select id="admin-exam-result" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö --</option>
                    <option value="pass" ${booking.oral_result === 'pass' ? 'selected' : ''}>‡∏ú‡πà‡∏≤‡∏ô</option>
                    <option value="fail" ${booking.oral_result === 'fail' ? 'selected' : ''}>‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</option>
                    <option value="retest" ${booking.oral_result === 'retest' ? 'selected' : ''}>‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°</option>
                  </select>
                </div>

                <div>
                  <label for="admin-exam-score" class="block text-gray-700 font-semibold mb-2">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (0-100) <span class="text-red-500">*</span></label>
                  <input type="number" id="admin-exam-score" min="0" max="100" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" value="${booking.score !== null && booking.score !== undefined ? booking.score : ''}">
                </div>

                <div id="admin-loading-indicator" class="hidden">
                  <div class="flex items-center justify-center space-x-2 text-blue-600">
                    <svg class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...</span>
                  </div>
                </div>

                <button id="admin-save-edit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg">
                  üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                </button>
              </div>
            </div>
          </div>
        </div>
      `;

      document.getElementById('back-to-admin').addEventListener('click', renderAdminDashboard);

      document.getElementById('admin-save-edit').addEventListener('click', async () => {
        const examResult = document.getElementById('admin-exam-result').value;
        const examScore = document.getElementById('admin-exam-score').value;
        const messageContainer = document.getElementById('admin-edit-message-container');

        if (!examResult) {
          showMessage(messageContainer, '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö', 'error');
          return;
        }

        if (!examScore || examScore < 0 || examScore > 100) {
          showMessage(messageContainer, '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (0-100)', 'error');
          return;
        }

        // ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ Admin ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö
        const ok = await promptAdminCode({
          title: "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç",
          description: "‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö"
        });
        if (!ok) {
          showMessage(messageContainer, '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å', 'warning');
          return;
        }

        const loadingIndicator = document.getElementById('admin-loading-indicator');
        const saveBtn = document.getElementById('admin-save-edit');

        loadingIndicator.classList.remove('hidden');
        saveBtn.disabled = true;

        const updatedRecordFromSheet = allRecords.find(r => r.__backendId === booking.__backendId);
        const baseRecord = updatedRecordFromSheet || booking;

        const recordToUpdate = {
          ...baseRecord,
          oral_result: examResult,
          score: parseInt(examScore, 10),
          signed: '', // ‚úÖ ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏°‡∏≠
          updated_at: new Date().toISOString(),
          admin_last_edit_at: new Date().toISOString(),
          admin_last_edit_by: 'ADMIN_PANEL'
        };

        const result = await window.dataSdk.update(recordToUpdate);

        loadingIndicator.classList.add('hidden');
        saveBtn.disabled = false;

        if (result.isOk) {
          showMessage(messageContainer, '‚úì ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderAdminDashboard(), 1500);
        } else {
          showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
        }
      });
    }

    // ===============================
    // LANDING
    // ===============================
    function renderLanding() {
      currentView = 'landing';
      const config = window.elementSdk?.config || defaultConfig;

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full flex items-center justify-center p-4 fade-in">
          <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-8 md:p-12 text-center">
            <div class="mb-6">
              <div class="w-32 h-32 mx-auto mb-4 flex items-center justify-center">
                <img src="https://www.amcol.ac.th/images/editor/BG%20Logo/AMCOL.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå" class="w-full h-full object-contain" onerror="this.style.display='none'; this.alt='‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à';">
              </div>
              <h1 class="text-4xl md:text-5xl font-bold text-blue-900 mb-4">${config.site_title || defaultConfig.site_title}</h1>
              <p class="text-lg text-gray-600">${config.site_description || defaultConfig.site_description}</p>
            </div>

            <div class="mt-8 space-y-4">
              <button id="login-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                üîë ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
              </button>
              <button id="register-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
              </button>
            </div>
          </div>
        </div>
      `;

      document.getElementById('login-btn').addEventListener('click', renderLogin);
      document.getElementById('register-btn').addEventListener('click', renderRegister);
    }

    // ===============================
    // REGISTER
    // ===============================
    function renderRegister() {
      currentView = 'register';

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 flex items-center justify-center fade-in">
          <div class="max-w-md w-full bg-white rounded-2xl shadow-xl p-8">
            <button id="back-landing" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
              </svg>
              <span>‡∏Å‡∏•‡∏±‡∏ö</span>
            </button>

            <div class="text-center mb-8">
              <h2 class="text-3xl font-bold text-gray-800">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
            </div>

            <div id="message-container"></div>

            <form id="register-form" class="space-y-4">
              <div>
                <label for="reg-name" class="block text-gray-700 font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="text-red-500">*</span></label>
                <input type="text" id="reg-name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              </div>

              <div>
                <label for="reg-email" class="block text-gray-700 font-semibold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="text-red-500">*</span></label>
                <input type="email" id="reg-email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              </div>

              <div>
                <label for="reg-password" class="block text-gray-700 font-semibold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="text-red-500">*</span></label>
                <input type="password" id="reg-password" required minlength="6" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              </div>

              <div>
                <label for="reg-confirm-password" class="block text-gray-700 font-semibold mb-2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="text-red-500">*</span></label>
                <input type="password" id="reg-confirm-password" required minlength="6" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              </div>

              <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg transition-colors duration-300 shadow-lg">
                ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
              </button>
            </form>

            <div class="mt-6 text-center">
              <p class="text-gray-600">‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß? <button id="goto-login" class="text-blue-600 hover:text-blue-700 font-semibold">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button></p>
            </div>
          </div>
        </div>
      `;

      document.getElementById('back-landing').addEventListener('click', renderLanding);
      document.getElementById('goto-login').addEventListener('click', renderLogin);

      document.getElementById('register-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = document.getElementById('reg-name').value.trim();
        const email = document.getElementById('reg-email').value.trim().toLowerCase();
        const password = document.getElementById('reg-password').value;
        const confirmPassword = document.getElementById('reg-confirm-password').value;

        const messageContainer = document.getElementById('message-container');

        if (password !== confirmPassword) {
          showMessage(messageContainer, '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô', 'error');
          return;
        }

        const existingUser = allRecords.find(r => r.record_type === 'user' && r.email === email);
        if (existingUser) {
          showMessage(messageContainer, '‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß', 'error');
          return;
        }

        if (allRecords.length >= 999) {
          showMessage(messageContainer, '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°', 'error');
          return;
        }

        const passwordHash = await simpleHash(password);

        const newUser = {
          record_type: 'user',
          user_id: generateId('user'),
          name: name,
          email: email,
          password_hash: passwordHash,
          created_at: new Date().toISOString()
        };

        const result = await window.dataSdk.create(newUser);

        if (result.isOk) {
          showMessage(messageContainer, '‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderLogin(), 1500);
        } else {
          showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
        }
      });
    }

    // ===============================
    // LOGIN
    // ===============================
    function renderLogin() {
      currentView = 'login';

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 flex items-center justify-center fade-in">
          <div class="max-w-md w-full bg-white rounded-2xl shadow-xl p-8">
            <button id="back-landing" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
              </svg>
              <span>‡∏Å‡∏•‡∏±‡∏ö</span>
            </button>

            <div class="text-center mb-8">
              <h2 class="text-3xl font-bold text-gray-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
            </div>

            <div id="message-container"></div>

            <form id="login-form" class="space-y-4">
              <div>
                <label for="login-email" class="block text-gray-700 font-semibold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="text-red-500">*</span></label>
                <input type="email" id="login-email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              </div>

              <div>
                <label for="login-password" class="block text-gray-700 font-semibold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="text-red-500">*</span></label>
                <input type="password" id="login-password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              </div>

              <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg transition-colors duration-300 shadow-lg">
                ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
              </button>
            </form>

            <div class="mt-6 text-center">
              <p class="text-gray-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? <button id="goto-register" class="text-green-600 hover:text-green-700 font-semibold">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button></p>
            </div>
          </div>
        </div>
      `;

      document.getElementById('back-landing').addEventListener('click', renderLanding);
      document.getElementById('goto-register').addEventListener('click', renderRegister);

      document.getElementById('login-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const email = document.getElementById('login-email').value.trim().toLowerCase();
        const password = document.getElementById('login-password').value;

        const messageContainer = document.getElementById('message-container');
        const passwordHash = await simpleHash(password);

        const user = allRecords.find(r =>
          r.record_type === 'user' &&
          r.email === email &&
          r.password_hash === passwordHash
        );

        if (user) {
          currentUser = user;
          showMessage(messageContainer, '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderDashboard(), 1000);
        } else {
          showMessage(messageContainer, '‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', 'error');
        }
      });
    }

    // ===============================
    // DASHBOARD
    // ===============================
    function renderDashboard() {
      currentView = 'dashboard';

      const userBookings = getUserRecords();
      const progressData = calculateUserProgress(userBookings);

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <div class="flex justify-between items-center mb-6">
                <div>
                  <h1 class="text-3xl font-bold text-gray-800">Dashboard</h1>
                  <p class="text-gray-600">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö, ${currentUser.name}</p>
                </div>
                <button id="logout-btn" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-6 rounded-lg">
                  ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                </button>
              </div>

              ${renderProgressBar(progressData.percentage, 'large')}

              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-blue-50 rounded-lg p-6">
                  <p class="text-blue-600 font-semibold mb-1">‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                  <p class="text-3xl font-bold text-blue-900">${progressData.totalExams}</p>
                </div>
                <div class="bg-green-50 rounded-lg p-6">
                  <p class="text-green-600 font-semibold mb-1">‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</p>
                  <p class="text-3xl font-bold text-green-900">${progressData.passedExams}</p>
                </div>
                <div class="bg-purple-50 rounded-lg p-6">
                  <p class="text-purple-600 font-semibold mb-1">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
                  <p class="text-3xl font-bold text-purple-900">${progressData.percentage}%</p>
                </div>
              </div>

              <!-- ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏õ‡∏∏‡πà‡∏° (‡∏Ñ‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏¥‡∏° + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á) -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button id="new-exam-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg">
                  ‚ûï ‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
                </button>
                <button id="self-assessment-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-lg">
                  üìù ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
                </button>
              </div>
            </div>

            ${renderProgressStats(progressData)}

            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <h2 class="text-2xl font-bold text-gray-800 mb-6">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>

              ${userBookings.length === 0 ? `
                <div class="text-center py-12">
                  <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö</p>
                </div>
              ` : `
                <div class="space-y-4">
                  ${userBookings.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)).map(booking => {
                    const resultColors = {
                      'pass': 'bg-green-100 text-green-800',
                      'fail': 'bg-red-100 text-red-800',
                      'retest': 'bg-orange-100 text-orange-800',
                      '': 'bg-gray-100 text-gray-600'
                    };
                    const resultText = {
                      'pass': '‚úÖ ‡∏ú‡πà‡∏≤‡∏ô',
                      'fail': '‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô',
                      'retest': '‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°',
                      '': '‚è≥ ‡∏£‡∏≠‡∏™‡∏≠‡∏ö'
                    };

                    return `
                      <div class="border border-gray-200 rounded-lg p-6">
                        <div class="flex justify-between items-start mb-4">
                          <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800 mb-2">${booking.chapter_title}</h3>
                            <p class="text-gray-600 mb-2">üìñ ${booking.subtopic_title}</p>
                            <p class="text-gray-600 mb-1">üìÖ ${new Date(booking.exam_date).toLocaleDateString('th-TH')}</p>
                            <p class="text-gray-600">üë®‚Äçüè´ ${booking.examiner_name}</p>
                          </div>
                          <div class="flex flex-col items-end space-y-2">
                            <span class="px-4 py-2 rounded-lg font-semibold ${resultColors[booking.oral_result || '']}">
                              ${resultText[booking.oral_result || '']}
                            </span>
                            ${booking.score !== undefined && booking.score !== null ? `
                              <span class="text-2xl font-bold text-blue-600">${booking.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                            ` : ''}
                          </div>
                        </div>

                        ${!booking.oral_result ? `
                          <button class="start-exam-btn w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg" data-booking-id="${booking.__backendId}">
                            ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏≠‡∏ö
                          </button>
                        ` : ''}
                      </div>
                    `;
                  }).join('')}
                </div>
              `}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('logout-btn').addEventListener('click', () => {
        currentUser = null;
        renderLanding();
      });

      document.getElementById('new-exam-btn').addEventListener('click', renderChapterSelection);

      // ‚úÖ NEW: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
      document.getElementById('self-assessment-btn').addEventListener('click', renderSelfAssessmentHome);

      setupAdminButton();

      document.querySelectorAll('.start-exam-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const bookingId = e.target.dataset.bookingId;
          const booking = allRecords.find(r => r.__backendId === bookingId);
          if (booking) {
            bookingData = booking;
            renderExamDetail();
          }
        });
      });
    }

    // ===============================
    // CHAPTER SELECTION
    // ===============================
    function renderChapterSelection() {
      const config = window.elementSdk?.config || defaultConfig;
      const userBookings = getUserRecords();
      const progressData = calculateUserProgress(userBookings);

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <button id="back-dashboard" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö Dashboard</span>
              </button>

              ${renderProgressBar(progressData.percentage, 'medium')}

              <h2 class="text-3xl font-bold text-blue-900">${config.chapters_title || defaultConfig.chapters_title}</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              ${CHAPTERS.map(chapter => `
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                  <div class="flex items-center mb-4">
                    <div class="w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center mr-4">
                      <span class="text-2xl font-bold text-white">${chapter.number}</span>
                    </div>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 mb-2">${chapter.name}</h3>
                  <p class="text-sm text-gray-600 mb-4">${chapter.description}</p>
                  <button class="chapter-select-btn w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg" data-chapter-id="${chapter.id}">
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ô‡∏µ‡πâ
                  </button>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-dashboard').addEventListener('click', renderDashboard);

      document.querySelectorAll('.chapter-select-btn').forEach((btn) => {
        btn.addEventListener('click', (e) => {
          const chapterId = e.target.dataset.chapterId;
          selectedChapter = CHAPTERS.find(c => c.id === chapterId);
          renderSubtopicSelection();
        });
      });

      setupAdminButton();
    }

    // ===============================
    // SUBTOPIC SELECTION
    // ===============================
    function renderSubtopicSelection() {
      const userBookings = getUserRecords();
      const progressData = calculateUserProgress(userBookings);

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-5xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <button id="back-to-chapters" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó</span>
              </button>

              ${renderProgressBar(progressData.percentage, 'medium')}

              <div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-white mb-6">
                <h2 class="text-2xl font-bold">‡∏ö‡∏ó‡∏ó‡∏µ‡πà ${selectedChapter.number}: ${selectedChapter.name}</h2>
                <p class="text-blue-100 text-sm mt-1">${selectedChapter.description}</p>
              </div>

              <h3 class="text-xl font-bold text-gray-800 mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢ (${selectedChapter.subtopics.length} ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠)</h3>
            </div>

            <div class="grid grid-cols-1 gap-4">
              ${selectedChapter.subtopics.map((subtopic, index) => `
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center flex-1">
                      <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-lg font-bold text-blue-600">${selectedChapter.number}.${index + 1}</span>
                      </div>
                      <h4 class="text-lg font-bold text-gray-800">${subtopic.name}</h4>
                    </div>
                    <button class="subtopic-select-btn bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg" data-subtopic-id="${subtopic.id}">
                      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ
                    </button>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-to-chapters').addEventListener('click', renderChapterSelection);

      document.querySelectorAll('.subtopic-select-btn').forEach((btn) => {
        btn.addEventListener('click', (e) => {
          const subtopicId = e.target.dataset.subtopicId;
          selectedSubtopic = selectedChapter.subtopics.find(s => s.id === subtopicId);
          renderBookingForm();
        });
      });

      setupAdminButton();
    }

    // ===============================
    // BOOKING FORM
    // ===============================
    function renderBookingForm() {
      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-3xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <button id="back-to-subtopics" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö</span>
              </button>

              <h2 class="text-3xl font-bold text-gray-800 mb-6">‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö</h2>

              <div class="bg-blue-50 rounded-lg p-6 mb-6">
                <h3 class="font-semibold text-blue-900 mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
                <p class="text-blue-800">${selectedChapter.name} - ${selectedSubtopic.name}</p>
              </div>

              <div id="message-container"></div>

              <form id="booking-form" class="space-y-6">
                <div>
                  <label for="exam-date" class="block text-gray-700 font-semibold mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏™‡∏≠‡∏ö <span class="text-red-500">*</span></label>
                  <input type="date" id="exam-date" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>

                <div>
                  <label for="examiner-name" class="block text-gray-700 font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏Ñ‡∏∏‡∏°‡∏™‡∏≠‡∏ö <span class="text-red-500">*</span></label>
                  <input type="text" id="examiner-name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>

                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg">
                  ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö
                </button>
              </form>
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-to-subtopics').addEventListener('click', renderSubtopicSelection);

      const today = new Date().toISOString().split('T')[0];
      document.getElementById('exam-date').setAttribute('min', today);

      setupAdminButton();

      document.getElementById('booking-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const messageContainer = document.getElementById('message-container');

        if (allRecords.length >= 999) {
          showMessage(messageContainer, '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°', 'error');
          return;
        }

        const newBooking = {
          record_type: 'booking',
          booking_id: generateId('booking'),
          user_id: currentUser.user_id,
          chapter_title: `‡∏ö‡∏ó‡∏ó‡∏µ‡πà ${selectedChapter.number}: ${selectedChapter.name}`,
          subtopic_title: selectedSubtopic.name,
          exam_date: document.getElementById('exam-date').value,
          examiner_name: document.getElementById('examiner-name').value,
          oral_result: '',
          score: null,
          examiner_note: '',
          candidate_answer_summary: '',
          signed: '', // ‚úÖ ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å (‡∏Ñ‡∏á field ‡πÑ‡∏ß‡πâ‡∏Å‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏û‡∏±‡∏á)
          created_at: new Date().toISOString(),
          updated_at: new Date().toISOString()
        };

        const result = await window.dataSdk.create(newBooking);

        if (result.isOk) {
          showMessage(messageContainer, '‡∏à‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderDashboard(), 1500);
        } else {
          showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
        }
      });
    }

    // ===============================
    // EXAM DETAIL (‚úÖ ‡∏•‡∏ö‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô + ‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™ Admin)
    // ===============================
    function renderExamDetail() {
      const currentRecord = allRecords.find(r => r.__backendId === bookingData.__backendId);
      if (currentRecord) bookingData = currentRecord;

      const scoreUnlocked = (scoreUnlockForBookingId === bookingData.__backendId);

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <button id="back-to-dashboard" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö Dashboard</span>
              </button>

              <h2 class="text-3xl font-bold text-gray-800 mb-6">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏õ‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡πà‡∏≤</h2>

              <div class="bg-blue-50 rounded-lg p-6 mb-6">
                <h3 class="font-bold text-blue-900 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</h3>
                <p class="text-blue-800">${bookingData.chapter_title} - ${bookingData.subtopic_title}</p>
                <p class="text-blue-700 text-sm mt-2">‡∏ß‡∏±‡∏ô‡∏™‡∏≠‡∏ö: ${new Date(bookingData.exam_date).toLocaleDateString('th-TH')}</p>
              </div>

              <div id="message-container"></div>

              ${!scoreUnlocked ? `
                <div class="bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg p-4 mb-6">
                  <div class="flex items-start justify-between gap-3">
                    <div>
                      <div class="font-semibold">üîí ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡πá‡∏≠‡∏Å</div>
                      <div class="text-sm mt-1">‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‚Äú‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö‚Äù</div>
                      <div class="text-xs mt-2 text-yellow-700">* ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‚Äú‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö/‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‚Äù ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™</div>
                    </div>
                    <button id="unlock-score-btn" class="bg-yellow-600 hover:bg-yellow-700 text-white font-semibold px-4 py-2 rounded-lg">
                      ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å
                    </button>
                  </div>
                </div>
              ` : `
                <div class="bg-green-50 border border-green-200 text-green-800 rounded-lg p-4 mb-6">
                  <div class="font-semibold">‚úÖ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡πâ‡∏ß</div>
                  <div class="text-sm mt-1">‡∏ï‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö‡∏à‡∏∞‡∏Ç‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
                </div>
              `}

              <div class="space-y-6">
                <div>
                  <label for="candidate-answer" class="block text-gray-700 font-semibold mb-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ö</label>
                  <textarea id="candidate-answer" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none">${bookingData.candidate_answer_summary || ''}</textarea>
                </div>

                <div>
                  <label for="examiner-notes" class="block text-gray-700 font-semibold mb-2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏π‡πâ‡∏Ñ‡∏∏‡∏°‡∏™‡∏≠‡∏ö</label>
                  <textarea id="examiner-notes" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none">${bookingData.examiner_note || ''}</textarea>
                </div>

                <div>
                  <label for="exam-score" class="block text-gray-700 font-semibold mb-2">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (0-100) <span class="text-red-500">*</span></label>
                  <input type="number" id="exam-score" min="0" max="100" required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed"
                    value="${bookingData.score !== null && bookingData.score !== undefined ? bookingData.score : ''}"
                    ${scoreUnlocked ? '' : 'disabled'}
                  >
                </div>

                <div>
                  <label for="exam-result" class="block text-gray-700 font-semibold mb-2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö <span class="text-red-500">*</span></label>
                  <select id="exam-result" required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed"
                    ${scoreUnlocked ? '' : 'disabled'}
                  >
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö --</option>
                    <option value="pass" ${bookingData.oral_result === 'pass' ? 'selected' : ''}>‡∏ú‡πà‡∏≤‡∏ô</option>
                    <option value="fail" ${bookingData.oral_result === 'fail' ? 'selected' : ''}>‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</option>
                    <option value="retest" ${bookingData.oral_result === 'retest' ? 'selected' : ''}>‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏ã‡πà‡∏≠‡∏°</option>
                  </select>
                </div>

                <button id="save-exam-result" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg">
                  ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö
                </button>
              </div>
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-to-dashboard').addEventListener('click', () => {
        scoreUnlockForBookingId = null; // ‚úÖ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà
        renderDashboard();
      });

      setupAdminButton();

      const unlockBtn = document.getElementById('unlock-score-btn');
      if (unlockBtn) {
        unlockBtn.addEventListener('click', async () => {
          const ok = await promptAdminCode({
            title: "‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô",
            description: "‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö"
          });
          const messageContainer = document.getElementById('message-container');

          if (ok) {
            scoreUnlockForBookingId = bookingData.__backendId;
            showMessage(messageContainer, "‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ", "success");
            setTimeout(() => renderExamDetail(), 400);
          } else {
            showMessage(messageContainer, "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å", "warning");
          }
        });
      }

      document.getElementById('save-exam-result').addEventListener('click', async () => {
        const examinerNotes = document.getElementById('examiner-notes').value;
        const candidateAnswer = document.getElementById('candidate-answer').value;
        const messageContainer = document.getElementById('message-container');

        const updatedRecordFromSheet = allRecords.find(r => r.__backendId === bookingData.__backendId);
        const baseRecord = updatedRecordFromSheet || bookingData;

        // ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö)
        if (scoreUnlockForBookingId !== bookingData.__backendId) {
          const recordToUpdate = {
            ...baseRecord,
            examiner_note: examinerNotes,
            candidate_answer_summary: candidateAnswer,
            signed: '', // ‚úÖ ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏°‡∏≠
            updated_at: new Date().toISOString()
          };

          const result = await window.dataSdk.update(recordToUpdate);

          if (result.isOk) {
            bookingData = { ...recordToUpdate };
            showMessage(messageContainer, '‚úì ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö)', 'success');
            setTimeout(() => renderDashboard(), 1200);
          } else {
            showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
          }
          return;
        }

        // ‚úÖ ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß: ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ Admin ‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö
        const examResult = document.getElementById('exam-result').value;
        const examScore = document.getElementById('exam-score').value;

        if (!examResult) {
          showMessage(messageContainer, '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö', 'error');
          return;
        }

        if (!examScore || examScore < 0 || examScore > 100) {
          showMessage(messageContainer, '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (0-100)', 'error');
          return;
        }

        const ok = await promptAdminCode({
          title: "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏™‡∏≠‡∏ö",
          description: "‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏ú‡∏•‡∏™‡∏≠‡∏ö"
        });
        if (!ok) {
          showMessage(messageContainer, '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å', 'warning');
          return;
        }

        const recordToUpdate = {
          ...baseRecord,
          oral_result: examResult,
          score: parseInt(examScore, 10),
          examiner_note: examinerNotes,
          candidate_answer_summary: candidateAnswer,
          signed: '', // ‚úÖ ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏°‡∏≠
          updated_at: new Date().toISOString()
        };

        const result = await window.dataSdk.update(recordToUpdate);

        if (result.isOk) {
          bookingData = { ...recordToUpdate };
          scoreUnlockForBookingId = null; // ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà
          showMessage(messageContainer, '‚úì ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderDashboard(), 1500);
        } else {
          showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
        }
      });
    }

    // ===============================
    // ‚úÖ SELF ASSESSMENT (NEW) - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
    // ===============================
    function renderSelfAssessmentHome() {
      currentView = 'self_assessment_home';

      const assessments = getUserAssessments().sort((a, b) => new Date(b.created_at) - new Date(a.created_at));

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <button id="back-to-dashboard" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö Dashboard</span>
              </button>

              <div class="flex items-start justify-between gap-4">
                <div>
                  <h1 class="text-3xl font-bold text-gray-800">üìù ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h1>
                  <p class="text-gray-600 mt-1">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</p>
                </div>
                <button id="new-assessment-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg">
                  ‚ûï ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà
                </button>
              </div>
            </div>

            ${renderAssessmentSummaryCard(assessments)}

            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <h2 class="text-2xl font-bold text-gray-800 mb-4">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>

              ${assessments.length === 0 ? `
                <div class="text-center py-12">
                  <p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
                </div>
              ` : `
                <div class="space-y-4">
                  ${assessments.slice(0, 30).map(a => `
                    <div class="border border-gray-200 rounded-lg p-5">
                      <div class="flex items-start justify-between gap-4">
                        <div class="flex-1">
                          <div class="font-bold text-gray-800">${a.chapter_title || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ö‡∏ó'}</div>
                          <div class="text-gray-600 text-sm mt-1">üìñ ${a.subtopic_title || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠'}</div>
                          <div class="text-xs text-gray-500 mt-2">üïí ${new Date(a.created_at).toLocaleString('th-TH')}</div>
                          ${a.note ? `<div class="text-sm text-gray-700 mt-2 truncate">üóíÔ∏è ${String(a.note)}</div>` : ''}
                        </div>

                        <div class="text-right min-w-[160px]">
                          <div class="text-xs text-gray-500">‡πÄ‡∏ï‡πá‡∏° 5</div>
                          <div class="text-sm font-semibold text-blue-700">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à: ${Number(a.understanding || 0)}</div>
                          <div class="text-sm font-semibold text-indigo-700">‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à: ${Number(a.confidence || 0)}</div>
                          <div class="text-sm font-semibold text-green-700">‡∏û‡∏£‡πâ‡∏≠‡∏°: ${Number(a.readiness || 0)}</div>
                          <div class="text-xs text-gray-500 mt-1">‚è±Ô∏è ${Number(a.study_minutes || 0)} ‡∏ô‡∏≤‡∏ó‡∏µ</div>
                        </div>
                      </div>
                    </div>
                  `).join('')}
                </div>
              `}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-to-dashboard').addEventListener('click', renderDashboard);
      document.getElementById('new-assessment-btn').addEventListener('click', renderAssessmentChapterSelection);

      setupAdminButton();
    }

    function renderAssessmentChapterSelection() {
      currentView = 'self_assessment_chapters';
      selectedAssessmentChapter = null;
      selectedAssessmentSubtopic = null;

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <button id="back-assessment-home" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö</span>
              </button>

              <h2 class="text-3xl font-bold text-gray-800">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h2>
              <p class="text-gray-600 mt-1">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              ${CHAPTERS.map(ch => `
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                  <div class="flex items-center mb-4">
                    <div class="w-16 h-16 bg-indigo-600 rounded-lg flex items-center justify-center mr-4">
                      <span class="text-2xl font-bold text-white">${ch.number}</span>
                    </div>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 mb-2">${ch.name}</h3>
                  <p class="text-sm text-gray-600 mb-4">${ch.description}</p>
                  <button class="assessment-chapter-btn w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg" data-chapter-id="${ch.id}">
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ô‡∏µ‡πâ
                  </button>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-assessment-home').addEventListener('click', renderSelfAssessmentHome);

      document.querySelectorAll('.assessment-chapter-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = e.target.dataset.chapterId;
          selectedAssessmentChapter = CHAPTERS.find(c => c.id === id);
          renderAssessmentSubtopicSelection();
        });
      });

      setupAdminButton();
    }

    function renderAssessmentSubtopicSelection() {
      currentView = 'self_assessment_subtopics';

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-5xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-6">
              <button id="back-assessment-chapters" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó</span>
              </button>

              <div class="bg-gradient-to-r from-indigo-600 to-indigo-700 rounded-xl p-6 text-white mb-6">
                <h2 class="text-2xl font-bold">‡∏ö‡∏ó‡∏ó‡∏µ‡πà ${selectedAssessmentChapter.number}: ${selectedAssessmentChapter.name}</h2>
                <p class="text-indigo-100 text-sm mt-1">${selectedAssessmentChapter.description}</p>
              </div>

              <h3 class="text-xl font-bold text-gray-800">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢ (${selectedAssessmentChapter.subtopics.length} ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠)</h3>
            </div>

            <div class="grid grid-cols-1 gap-4">
              ${selectedAssessmentChapter.subtopics.map((s, index) => `
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center flex-1">
                      <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-lg font-bold text-indigo-600">${selectedAssessmentChapter.number}.${index + 1}</span>
                      </div>
                      <h4 class="text-lg font-bold text-gray-800">${s.name}</h4>
                    </div>
                    <button class="assessment-subtopic-btn bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg" data-subtopic-id="${s.id}">
                      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ
                    </button>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-assessment-chapters').addEventListener('click', renderAssessmentChapterSelection);

      document.querySelectorAll('.assessment-subtopic-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const sid = e.target.dataset.subtopicId;
          selectedAssessmentSubtopic = selectedAssessmentChapter.subtopics.find(x => x.id === sid);
          renderAssessmentForm();
        });
      });

      setupAdminButton();
    }

    function renderAssessmentForm() {
      currentView = 'self_assessment_form';

      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="min-h-full p-4 md:p-8 fade-in">
          <div class="max-w-3xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
              <button id="back-assessment-subtopics" class="text-blue-600 hover:text-blue-700 font-semibold mb-4 flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                <span>‡∏Å‡∏•‡∏±‡∏ö</span>
              </button>

              <h2 class="text-3xl font-bold text-gray-800 mb-6">‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h2>

              <div class="bg-indigo-50 rounded-lg p-6 mb-6">
                <h3 class="font-semibold text-indigo-900 mb-2">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
                <p class="text-indigo-800">${selectedAssessmentChapter.name} - ${selectedAssessmentSubtopic.name}</p>
              </div>

              <div id="message-container"></div>

              <form id="assessment-form" class="space-y-6">
                <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                  <div class="flex items-center justify-between mb-2">
                    <label class="block text-gray-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</label>
                    <span id="understanding-val" class="font-bold text-blue-700">3</span>
                  </div>
                  <input id="understanding" type="range" min="1" max="5" value="3" class="w-full">
                  <div class="flex justify-between text-xs text-gray-500 mt-1"><span>1</span><span>5</span></div>
                </div>

                <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                  <div class="flex items-center justify-between mb-2">
                    <label class="block text-gray-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ï‡∏≠‡∏ö‡∏õ‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡πà‡∏≤</label>
                    <span id="confidence-val" class="font-bold text-indigo-700">3</span>
                  </div>
                  <input id="confidence" type="range" min="1" max="5" value="3" class="w-full">
                  <div class="flex justify-between text-xs text-gray-500 mt-1"><span>1</span><span>5</span></div>
                </div>

                <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                  <div class="flex items-center justify-between mb-2">
                    <label class="block text-gray-700 font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ö</label>
                    <span id="readiness-val" class="font-bold text-green-700">3</span>
                  </div>
                  <input id="readiness" type="range" min="1" max="5" value="3" class="w-full">
                  <div class="flex justify-between text-xs text-gray-500 mt-1"><span>1</span><span>5</span></div>
                </div>

                <div>
                  <label for="study-minutes" class="block text-gray-700 font-semibold mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡πà‡∏≤‡∏ô/‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ (‡∏ô‡∏≤‡∏ó‡∏µ)</label>
                  <input type="number" id="study-minutes" min="0" value="0"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                </div>

                <div>
                  <label for="assessment-note" class="block text-gray-700 font-semibold mb-2">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å/‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                  <textarea id="assessment-note" rows="4"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"
                    placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏¢‡∏±‡∏á‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á... ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏ß‡∏ô‡∏®‡∏±‡∏û‡∏ó‡πå..."></textarea>
                </div>

                <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-lg">
                  üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
                </button>
              </form>
            </div>
          </div>
        </div>
        ${renderAdminButton()}
      `;

      document.getElementById('back-assessment-subtopics').addEventListener('click', renderAssessmentSubtopicSelection);
      setupAdminButton();

      const syncRangeLabel = (id, labelId) => {
        const el = document.getElementById(id);
        const lab = document.getElementById(labelId);
        const update = () => { if (lab) lab.textContent = el.value; };
        el.addEventListener('input', update);
        update();
      };

      syncRangeLabel('understanding', 'understanding-val');
      syncRangeLabel('confidence', 'confidence-val');
      syncRangeLabel('readiness', 'readiness-val');

      document.getElementById('assessment-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const messageContainer = document.getElementById('message-container');

        if (allRecords.length >= 999) {
          showMessage(messageContainer, '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°', 'error');
          return;
        }

        const record = {
          record_type: 'self_assessment',
          assessment_id: generateId('assessment'),
          user_id: currentUser.user_id,

          chapter_id: selectedAssessmentChapter.id,
          chapter_title: `‡∏ö‡∏ó‡∏ó‡∏µ‡πà ${selectedAssessmentChapter.number}: ${selectedAssessmentChapter.name}`,
          subtopic_id: selectedAssessmentSubtopic.id,
          subtopic_title: selectedAssessmentSubtopic.name,

          understanding: Number(document.getElementById('understanding').value),
          confidence: Number(document.getElementById('confidence').value),
          readiness: Number(document.getElementById('readiness').value),
          study_minutes: Number(document.getElementById('study-minutes').value || 0),
          note: document.getElementById('assessment-note').value || '',

          created_at: new Date().toISOString(),
          updated_at: new Date().toISOString()
        };

        const result = await window.dataSdk.create(record);

        if (result.isOk) {
          showMessage(messageContainer, '‚úì ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
          setTimeout(() => renderSelfAssessmentHome(), 900);
        } else {
          showMessage(messageContainer, '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'error');
        }
      });
    }

    // ===============================
    // ELEMENT SDK CONFIG HANDLER
    // ===============================
    async function onConfigChange(config) {
      if (currentView === 'landing') {
        const titleElement = document.querySelector('h1');
        const descElement = document.querySelector('h1 + p');
        if (titleElement) titleElement.textContent = config.site_title || defaultConfig.site_title;
        if (descElement) descElement.textContent = config.site_description || defaultConfig.site_description;
      }
    }

    // ===============================
    // INIT
    // ===============================
    async function init() {
      await initDataSDK();

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: (config) => ({
            recolorables: [],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ['site_title', config.site_title || defaultConfig.site_title],
            ['site_description', config.site_description || defaultConfig.site_description],
            ['chapters_title', config.chapters_title || defaultConfig.chapters_title]
          ])
        });
      }

      renderLanding();
    }

    init();
  </script>
</body>
</html>
